# è»Ÿé«”ç™»å…¥æµç¨‹

## ğŸ”¥ å–®æ©Ÿè»Ÿé«”ç™»å…¥

```mermaid
sequenceDiagram
  App ->> ERP: å°ERPç™»å…¥
  alt é©—è­‰å¤±æ•—
    ERP ->> App: ç™»å…¥å¤±æ•—
  else é©—è­‰æˆåŠŸ
    ERP ->> App: é©—è­‰æˆåŠŸä¸¦å–å¾—token
    Note right of App: é©—è­‰å®Œç•¢ï¼Œé–‹å§‹é€²è¡Œæ“ä½œ
    App ->> Appä¼ºæœå™¨: ä½¿ç”¨tokenæ“ä½œæ©Ÿå°
  end
```

---

## ğŸ”¥ æ©Ÿè¯ç¶²(å…§ç¶²)è»Ÿé«”ç™»å…¥

```mermaid
sequenceDiagram
  App ->> ERP: å°ERPç™»å…¥
  alt é©—è­‰å¤±æ•—
    ERP ->> App: ç™»å…¥å¤±æ•—
  else é©—è­‰æˆåŠŸ
    ERP ->> App: é©—è­‰æˆåŠŸä¸¦å–å¾—token

    Note right of App: é©—è­‰å®Œç•¢ï¼Œé–‹å§‹é€²è¡Œæ“ä½œ
    App ->> Server: å°‡tokenå‚³é€è‡³ä¸­å¤®ä¼ºæœå™¨
    Server ->> Appä¼ºæœå™¨: ä½¿ç”¨tokenæ“ä½œæ©Ÿå°
  end
```

---

## ğŸ”¥ æ©Ÿè¯ç¶²(å¤–ç¶²)è»Ÿé«”ç™»å…¥

```mermaid
sequenceDiagram
  App ->> ERP: å°ERPç™»å…¥
  alt é©—è­‰å¤±æ•—
    ERP ->> App: ç™»å…¥å¤±æ•—
  else é©—è­‰æˆåŠŸ
    ERP ->> App: é©—è­‰ä¸¦å–å¾—token
    App ->> Server: å°‡tokenå‚³é€è‡³ä¸­å¤®ä¼ºæœå™¨
    Server ->> ERP: é©—è­‰tokenè³‡è¨Š
    alt tokené©—è­‰å¤±æ•—
      ERP ->> Server: é©—è­‰å¤±æ•—
    else tokené©—è­‰æˆåŠŸ
      ERP ->> Server: é©—è­‰æˆåŠŸ
      Note right of ERP: é©—è­‰å®Œç•¢ï¼Œé–‹å§‹é€²è¡Œæ“ä½œ
      Server ->> Appä¼ºæœå™¨: ä½¿ç”¨tokenæ“ä½œæ©Ÿå°
    end
  end
```
